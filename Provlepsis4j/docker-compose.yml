services:
  # backend (FastAPI)
  backend:
    build: ./backend-py
    environment:
      # Must match the browser origin that serves the frontend
      FRONTEND_ORIGIN: http://localhost:5173
    ports:
      - "8080:8080"
    # depends_on for neo4j goes here if you run Neo4j in compose

  # frontend (nginx serving the built React app)
  frontend:
    build:
      context: ./frontend
      args:
        VITE_API: http://localhost:8080
    ports:
      - "5173:80"
    depends_on:
      - backend

# Optional neo4j volume if you add neo4j service later:
# volumes:
#   neo4j_data:
